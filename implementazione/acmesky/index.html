
<!DOCTYPE html>

<html class="no-js" lang="it">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta 2020="" 2021."="" a.a.="" acmesky"="" ai="" bologna,="" content="Documentazione del progetto " corso="" del="" della="" di="" informatica="" ingegneria="" lm="" name="description" orientata="" presso="" servizi="" software="" università=""/>
<meta content="Marco Ferrati, Tommaso Azzalin" name="author"/>
<link href="../../assets/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-7.1.3" name="generator"/>
<title>ACMESky - ACMESky - Documentazione progetto | SOSENG</title>
<link href="../../assets/stylesheets/main.e35208c4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/>
<link href="../../css/lightgallery.min.css" rel="stylesheet"/>
<script src="../../js/lightgallery.min.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700%7C&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Open Sans";--md-code-font-family:""}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="blue" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#panoramica">
          Vai al contenuto
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ACMESky - Documentazione progetto | SOSENG" class="md-header__button md-logo" data-md-component="logo" href="../.." title="ACMESky - Documentazione progetto | SOSENG">
<img alt="logo" src="../../assets/favicon.ico"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ACMESky - Documentazione progetto | SOSENG
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ACMESky
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Passa a dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"></path></svg>
</label>
<input class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="teal" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Passa a light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Cerca" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Cerca" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/sosengers/project-documentation" title="Apri repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    sosengers/project-documentation
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../coreografie/">
      Coreografie
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../coreografiebpmn/">
      Coreografie BPMN
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../bpmn/">
      BPMN
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../uml/">
      UML
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../serviziweb/">
        Servizi web
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        Implementazione
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../executeinstruction/">
      Istruzioni per l'esecuzione
    </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ACMESky - Documentazione progetto | SOSENG" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="ACMESky - Documentazione progetto | SOSENG">
<img alt="logo" src="../../assets/favicon.ico"/>
</a>
    ACMESky - Documentazione progetto | SOSENG
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/sosengers/project-documentation" title="Apri repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    sosengers/project-documentation
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../coreografie/">
        Coreografie
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../coreografiebpmn/">
        Coreografie BPMN
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../bpmn/">
        BPMN
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../uml/">
        UML
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        Servizi web
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Servizi web" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Servizi web
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/">
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/acmesky/">
        ACMESky
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/flightcompany/">
        Flight Company
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/geodistances/">
        Geographical Distances
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/paymentprovider/">
        Payment Provider
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/prontogram/">
        ProntoGram
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../serviziweb/travelcompany/">
        Travel Company
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
        Implementazione
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Implementazione" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Implementazione
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          ACMESky
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        ACMESky
      </a>
<nav aria-label="Indice" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Indice
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#panoramica">
    Panoramica
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interazioni-utente-e-acmesky">
    Interazioni Utente e ACMESky
  </a>
<nav aria-label="Interazioni Utente e ACMESky" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#aggiunta-di-un-nuovo-interesse">
    Aggiunta di un nuovo interesse
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#acquisto-di-unofferta">
    Acquisto di un'offerta
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interazioni-acmesky-e-servizi-esterni">
    Interazioni ACMESky e servizi esterni
  </a>
<nav aria-label="Interazioni ACMESky e servizi esterni" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#flight-company">
    Flight Company
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#travel-company">
    Travel Company
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#geographical-distances">
    Geographical distances
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#payment-provider">
    Payment Provider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prontogram">
    ProntoGram
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../flightcompany/">
        Flight Company
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../geodistances/">
        Geographical Distances
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../paymentprovider/">
        Payment Provider
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../prontogram/">
        ProntoGram
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../travelcompany/">
        Travel Company
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../executeinstruction/">
        Istruzioni per l'esecuzione
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Indice" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Indice
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#panoramica">
    Panoramica
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interazioni-utente-e-acmesky">
    Interazioni Utente e ACMESky
  </a>
<nav aria-label="Interazioni Utente e ACMESky" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#aggiunta-di-un-nuovo-interesse">
    Aggiunta di un nuovo interesse
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#acquisto-di-unofferta">
    Acquisto di un'offerta
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interazioni-acmesky-e-servizi-esterni">
    Interazioni ACMESky e servizi esterni
  </a>
<nav aria-label="Interazioni ACMESky e servizi esterni" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#flight-company">
    Flight Company
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#travel-company">
    Travel Company
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#geographical-distances">
    Geographical distances
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#payment-provider">
    Payment Provider
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prontogram">
    ProntoGram
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>ACMESky</h1>
<p>Torna a <a href="../">Implementazione</a>.</p>
<h2 id="panoramica">Panoramica</h2>
<div class="mermaid">graph TD
CW --&gt; DBs
CW --&gt; OS[Altri servizi]
CW --&gt; C
CW --&gt; R
BE --&gt; C
FE --&gt; BE
FE --&gt; MW
Utente --&gt; FE
MW --&gt; R

subgraph ACMESky
DBs(Database)
CW[Camunda Workers]
C[Camunda]
BE[Backend]
R[RabbitMQ]
FE[Frontend]
MW[Middleware]
end
</div>
<p><em>ACMESky</em> è l'insieme di servizi che permettono ad un utente di inserire un proprio interesse all'interno del sistema e di acquistare i voli per un viaggio.</p>
<h2 id="interazioni-utente-e-acmesky">Interazioni Utente e ACMESky</h2>
<div class="mermaid">graph LR
BE --&gt;|Correlate messages| C
FE --&gt;|POST /offers/buy| BE
FE --&gt;|POST /interests| BE
FE --&gt;|WebSocket| MW
Utente --&gt; FE
MW --&gt;|Subscribe| R

subgraph ACMESky
C[Camunda]
BE[Backend]
R[RabbitMQ]
FE[Frontend]
MW[Middleware]
end
</div>
<p>L'utente interagisce con l'interfaccia web messa a disposizione dal frontend. Il frontend mette a disposizione due funzionalità, l'aggiunta di un nuovo interesse e l'acquisto di un viaggio. Queste due operazioni sono permesse da due chiamate HTTP al backend di <em>ACMESky</em>: <a href="../../serviziweb/acmesky/#registerInterest">POST /interests</a> e <a href="../../serviziweb/acmesky/#buyOffer">POST /offers/buy</a>.
<div class="lightgallery"><a data-sub-html="Homepage ACMESky" href="../../assets/implementazione/homepage_acmesky.png"><img alt="Homepage ACMESky" src="../../assets/implementazione/homepage_acmesky.png"/></a></div><p class="text-center text-italic">Homepage ACMESky</p></p>
<h3 id="aggiunta-di-un-nuovo-interesse">Aggiunta di un nuovo interesse</h3>
<p><div class="lightgallery"><a data-sub-html="Aggiunta di un nuovo interesse" href="../../assets/implementazione/registrazione_interesse.png"><img alt="Aggiunta di un nuovo interesse" src="../../assets/implementazione/registrazione_interesse.png"/></a></div><p class="text-center text-italic">Aggiunta di un nuovo interesse</p></p>
<p>Un utente per aggiungere il proprio interesse inserisce i dati richiesti e preme il pulsante "Conferma". I dati del modulo vengono inviati al backend che, a sua volta, li invia a Camunda, avviando così una nuova istanza del business process <a href="../../bpmn/#registerInterest">Registrazione interesse utente</a> nell'engine; i cui task verranno svolti dai worker assegnati, tra i quali il worker <code>register-interest</code>, che aggiunge l'interesse all'interno di MongoDB. Verrà fatto nuovamente riferimento a questo database quando verranno controllati gli interessi non ancora soddisfatti alla ricerca di offerte che soddisfano i requisiti salvati.</p>
<h3 id="acquisto-di-unofferta">Acquisto di un'offerta</h3>
<p><div class="lightgallery"><a data-sub-html="Inserimento dati acquisto offerta" href="../../assets/implementazione/acmesky_inserimento_dati_offerta.png"><img alt="Inserimento dati acquisto offerta" src="../../assets/implementazione/acmesky_inserimento_dati_offerta.png"/></a></div><p class="text-center text-italic">Inserimento dati acquisto offerta</p></p>
<p>Quando un utente riceve il codice offerta tramite <em>ProntoGram</em> si può recare su questa pagine e, riempiendo il form con i dati richiesti, avviare il processo di acquisto di un'offerta. Il frontend contatta il backend passandogli i dati inseriti dall'utente e, a sua volta, invia un messaggio a Camunda che avvia una nuova istanza del processo di business <a href="../../bpmn/#buyOffer">Acquisto offerta da un utente</a>. Il backend risponde con il codice che verrà usato per la comunicazione tra frontend e middleware tramite WebSocket. Quando un worker deve comunicare con il frontend, pubblica un messaggio sulla coda RabbitMQ utilizzando lo stesso codice comunicato al frontend. Il middleware, essendosi sottoscritto alla stessa coda, utilizza il WebSocket per comunicare il messaggio al giusto utente.</p>
<p>In questo modo è possibile:</p>
<ul>
<li>
<p>comunicare errori:
<div class="lightgallery"><a data-sub-html="Comunicazione errori al Frontend" href="../../assets/implementazione/acmesky_error.png"><img alt="Comunicazione errori al Frontend" src="../../assets/implementazione/acmesky_error.png"/></a></div><p class="text-center text-italic">Comunicazione errori al Frontend</p></p>
</li>
<li>
<p>richiedere il pagamento da parte dell'utente:
<div class="lightgallery"><a data-sub-html="Richiesta pagamento" href="../../assets/implementazione/acmesky_pagamento.png"><img alt="Richiesta pagamento" src="../../assets/implementazione/acmesky_pagamento.png"/></a></div><p class="text-center text-italic">Richiesta pagamento</p></p>
</li>
<li>
<p>mostrare l'offerta acquistata:
<div class="lightgallery"><a data-sub-html="Biglietti acquistati" href="../../assets/implementazione/acmesky_biglietti.png"><img alt="Biglietti acquistati" src="../../assets/implementazione/acmesky_biglietti.png"/></a></div><p class="text-center text-italic">Biglietti acquistati</p></p>
</li>
</ul>
<h2 id="interazioni-acmesky-e-servizi-esterni">Interazioni ACMESky e servizi esterni</h2>
<p>Per poter compiere i diversi task, i worker contattano dei servizi che sono esterni ad <em>ACMESky</em>.</p>
<div class="mermaid">graph LR 
CW --&gt; FC[Flight Company]
CW --&gt; TC[Travel Company]
CW --&gt; GD[Geographical distances]
CW --&gt; PP[Payment Provider]
CW --&gt; PG[ProntoGram]

subgraph ACMESky
CW[Camunda Workers]
end

subgraph Servizi-Esterni
FC[Flight Company]
TC[Travel Company]
GD[Geographical distances]
PP[Payment Provider]
PG[ProntoGram]
end
</div>
<p>Per interagire con i servizi RESTful esterni è stata utilizzata la libreria <a href="https://pypi.org/project/requests/">Requests</a> di Python che permette in maniera molto semplice di soddisfare la necessità di fare chiamate HTTP <code>POST</code> e <code>GET</code>:</p>
<div class="highlight"><pre><span></span><code>get_response = requests.get(url)
post_response = requests.post(url, json=dict_representing_the_json)
</code></pre></div>
<h3 id="flight-company">Flight Company</h3>
<div class="mermaid">graph TD
CW1 --&gt;|POST /flights/buy| FC[Flight Company]
CW2 --&gt;|GET /flights/offers| FC[Flight Company]
FC[Flight Company] --&gt;|POST /offers/lastminute|B

subgraph ACMESky
B[Backend]
subgraph Camunda-Workers
CW1[Buy flights]
CW2[Get flight offers]
end
end

%%style Camunda-Workers fill:#90EE90
</div>
<p><em>ACMESky</em> comunica con le <em>Flight Company</em> tramite chiamate HTTP. Quando devo effettuare l'acquisto di uno o più voli invia un documento in formato JSON come corpo della richiesta all'endpoint <a href="../../serviziweb/flightcompany/#buyFlights">POST /flights/buy</a> mentre, una volta al giorno contatta l'endpoint <a href="../../serviziweb/flightcompany/#getFlightOffers">GET /flights/offers</a> per ottenere la lista di voli aggiunti nelle ultime 24h, ovvero quando Camunda avvia il business process <a href="../../bpmn/#dailyCheck">Verifica giornaliera delle offerte</a></p>
<p>Quando un nuovo volo viene aggiunto ad una compagnia aerea, questo viene, a sua volta, inviato anche ad <em>ACMESky</em> tramite l'endpoint <a href="../../serviziweb/acmesky/#publishLastMinuteOffer">POST /offers/lastminute</a></p>
<h3 id="travel-company">Travel Company</h3>
<div class="mermaid">graph TD
CW1 --&gt;|Retrieve travelcompany.wsdl| TCf
CW1 --&gt;|SOAP buyTransfer| TC

subgraph ACMESky
subgraph Camunda-Workers
CW1[Book transfer]
end
end

subgraph Travel-Companies
TC[Jolie service]
TCf[Travel Company file provider]
end
%%style Camunda-Workers fill:#90EE90
</div>
<p>Quando <em>ACMESky</em> deve prenotare il trasferimento da/verso casa dell'utente e aeroporto utilizza la libreria <a href="https://docs.python-zeep.org/en/master/index.html">Zeep</a> che è in grado di generare un client SOAP a partire dal file WSDL che descrive il servizio.</p>
<div class="highlight"><pre><span></span><code>soap_client = Client(wsdl=wsdl_url)
soap_response = soap_client.service.buyTransfers(
    departure_transfer_datetime=outbound_departure_transfer_datetime.strftime("%Y-%m-%dT%H:%M:%S"),
    customer_address=str(offer_purchase_data.address),
    airport_code=offer_match.outbound_flight.departure_airport_code,
    customer_name=f"{offer_purchase_data.name} {offer_purchase_data.surname}",
    arrival_transfer_datetime=comeback_arrival_transfer_datetime.strftime("%Y-%m-%dT%H:%M:%S")
)
</code></pre></div>
<h3 id="geographical-distances">Geographical distances</h3>
<div class="mermaid">graph TD
CW1 --&gt;|POST /distance| GD[Geographical Distances]
CW2 --&gt;|POST /distance| GD[Geographical Distances]

subgraph ACMESky
subgraph Camunda-Workers
CW1[Check distance house airport]
CW2[Get min distance house travel company]
end
end

%%style Camunda-Workers fill:#90EE90
</div>
<p><em>ACMESky</em> utilizza il servizio per il calcolo delle distanze geografiche per calcolare la distanza tra due indirizzi. Il servizio è contattato due volte: quando c'è da calcolare la distanza tra la casa del cliente e l'aeroporto e per trovare la compagnia di trasporto più vicina alla casa del cliente.</p>
<h3 id="payment-provider">Payment Provider</h3>
<div class="mermaid">graph TD
CW1 --&gt;|POST /payments/request| PP[Payment Provider]
CW1 --&gt;|Publish payment URL|R
PP[Payment Provider] --&gt;|POST /payments| BE
BE --&gt;|Send correlate message| C
CW2 --&gt;|Polling for new task| C
subgraph ACMESky
BE[Backend]
C[Camunda]
R[RabbitMQ]
subgraph Camunda-Workers
CW1[Payment request]
CW2[Verify payment status]
end
end

%%style Camunda-Workers fill:#90EE90
</div>
<p>Quando un utente inserisce un codice offerta valido, il worker <code>payment-request</code> contatta il <em>Payment Provider</em> che genera una nuova istanza di pagamento e restituisce al worker il link al quale l'utente può pagare l'offerta. Il worker pubblica il link sulla coda di RabbitMQ in modo che il frontend possa ottenere il link da mostrare all'utente. </p>
<p>Quando l'utente effettua il pagamento sul sito del <em>Payment Provider</em>, il suo esito viene mandato al backend di <em>ACMESky</em> all'URL indicato al momento della creazione della richiesta di pagamento; quando il backend riceve l'esito del pagamento crea un nuovo messaggio che manda a Camunda, che si occuperà di far avanzare il processo in modo che il worker <code>verify-payment-status</code> possa valutare l'esito del  pagamento appena effettuato.</p>
<h3 id="prontogram">ProntoGram</h3>
<div class="mermaid">graph TD
CW1 --&gt;|POST /messages| PG[ProntoGram]

subgraph ACMESky
subgraph Camunda-Workers
CW1[Notify user via ProntoGram]
end
end

%%style Camunda-Workers fill:#90EE90
</div>
<p>Quando viene trovata un'offerta che combacia con l'interesse da parte di un utente viene generato un "codice offerta" che viene mandato a <em>ProntoGram</em> indicando il nome utente al quale va recapitato.</p>
<p>Torna a <a href="../">Implementazione</a>.</p>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
</a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a class="md-footer__link md-footer__link--prev" href="../" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Precedente
              </span>
</div>
</div>
</a>
<a class="md-footer__link md-footer__link--next" href="../flightcompany/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Prossimo
              </span>
              Flight Company
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Documentazione del progetto ACMESky realizzato da Marco Ferrati e Tommaso Azzalin, Università di Bologna.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.top", "navigation.instant", "search.suggest"], "translations": {"clipboard.copy": "Copia", "clipboard.copied": "Copiato", "search.config.lang": "it", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Cerca", "search.result.placeholder": "Scrivi per iniziare a cercare", "search.result.none": "Nessun documento trovato", "search.result.one": "1 documento trovato", "search.result.other": "# documenti trovati", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.4ea5477f.min.js"></script>
<script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
    </script>
<script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script><script>mermaid.initialize({});</script></body>
</html>